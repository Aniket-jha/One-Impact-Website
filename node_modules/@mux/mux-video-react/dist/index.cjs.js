"use strict";var S=Object.create;var l=Object.defineProperty;var L=Object.getOwnPropertyDescriptor;var j=Object.getOwnPropertyNames;var w=Object.getPrototypeOf,H=Object.prototype.hasOwnProperty;var I=(e,t)=>{for(var r in t)l(e,r,{get:t[r],enumerable:!0})},M=(e,t,r,f)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of j(t))!H.call(e,s)&&s!==r&&l(e,s,{get:()=>t[s],enumerable:!(f=L(t,s))||f.enumerable});return e};var P=(e,t,r)=>(r=e!=null?S(w(e)):{},M(t||!e||!e.__esModule?l(r,"default",{value:e,enumerable:!0}):r,e)),N=e=>M(l({},"__esModule",{value:!0}),e);var W={};I(W,{default:()=>U});module.exports=N(W);var p=require("react"),x=(...e)=>{let t=(0,p.useRef)(null);return(0,p.useEffect)(()=>{e.forEach(r=>{!r||(typeof r=="function"?r(t.current):r.current=t.current)})},[e]),t};var o=P(require("react")),a=P(require("prop-types")),n=require("@mux/playback-core");var h=()=>{try{return"0.7.0"}catch{}return"UNKNOWN"},A=h(),g=()=>A;var D=g(),K="mux-video-react",C=o.default.forwardRef((e,t)=>{var R;let{envKey:r,debug:f,beaconCollectionDomain:s,playbackId:u,preferPlayback:_,type:z,streamType:B,startTime:Y,src:y,children:E,autoPlay:d,preload:b,...O}=e,[V]=(0,o.useState)((0,n.generatePlayerInitTime)()),[m,v]=(0,o.useState)((R=(0,n.toMuxVideoURL)(u))!=null?R:y),c=(0,o.useRef)(void 0),k=(0,o.useRef)(null),T=x(k,t);return(0,o.useEffect)(()=>{var i;v((i=(0,n.toMuxVideoURL)(u))!=null?i:y)},[y,u]),(0,o.useEffect)(()=>{let i={...e,src:m,playerInitTime:V,playerSoftwareName:K,playerSoftwareVersion:D,autoplay:d};c.current=(0,n.initialize)(i,T.current,c.current)},[m]),(0,o.useEffect)(()=>{var i;(i=c.current)==null||i.setAutoplay(d)},[d]),(0,o.useEffect)(()=>{var i;(i=c.current)==null||i.setPreload(b)},[b]),o.default.createElement("video",{ref:T,...O},E)});C.propTypes={envKey:a.default.string,debug:a.default.bool,disableCookies:a.default.bool,metadata:a.default.any,beaconCollectionDomain:a.default.string,playbackId:a.default.string,playerInitTime:a.default.number,preferPlayback:a.default.oneOf(Object.values(n.PlaybackTypes)),type:a.default.oneOf(n.allMediaTypes),streamType:a.default.oneOf(Object.values(n.StreamTypes)),startTime:a.default.number};var U=C;
//# sourceMappingURL=index.cjs.js.map
